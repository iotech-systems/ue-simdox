#!/bin/bash


echo -e "${BLDGRN} + lib-file: .syslib/syscore${ECLR}"


create_venv () {
   echo "" && echo -e " ${BLDBLU}(( create_venv ))${ECLR}"
   echo "   cwd: $(pwd)"

   pydir311="pyvenvs/py3.11"
   mkdir "$pydir311"  -p
   if [ ! -d "$pydir311" ]; then
      echo "" && echo -e "  ${RED}<< FOLDER_NOT_FOUND: $pydir311 >>${ECLR}"
      exit 1
   fi

   echo "" && echo -e "  ${GRN}[ FOLDER_FOUND: $pydir311 ]${ECLR}"

#   if ! [ -x "$(python3.11 -v foo)" ]; then
#      echo "python3.11 not installed"
#      exit 2
#   fi

   test -x "$(which python3.11x)"

   echo "" && echo "[ INSTALLING PYTHON v3.11 ]" && echo ""
   CMD_TO_FIND="python3.11"
   HERE_IS_PY311=$(whereis "$CMD_TO_FIND")
   echo -e "  ${BLDGRN}HERE_IS_PY311 / $HERE_IS_PY311${ECLR}"

   blnk=""
    # shellcheck disable=SC2001
   buff=$(echo "$HERE_IS_PY311" | sed "s/$CMD_TO_FIND/$blnk/")
   echo "buff: $buff"

   #   if []
   add-apt-repository ppa:deadsnakes/ppa
   apt update
   apt install python3.11

}


clone_repo () {
   echo "" && echo -e " ${BLDBLU}(( clone_repo ))${ECLR}"
   echo "   token: $1"
   echo "   url: $2"
   echo "   cwd: $(pwd)"

   # shellcheck disable=SC2001
   repo_url=$(echo "$2" | sed "s/TOKEN/$1/")
   echo -e "   ${BLU}$repo_url${ECLR}"

   echo -e "${GRY}"
   git clone "$repo_url"
   echo -e "${ECLR}"

   return 0
}